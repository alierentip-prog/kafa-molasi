<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Labirent 02 | Yeraltı Üssü</title>
<style>
html, body { margin: 0; height: 100%; overflow: hidden; background: #000; }
#subtitle {
  position: absolute;
  bottom: 8%;
  width: 100%;
  text-align: center;
  color: #f5d7b3;
  font-family: "Poppins", sans-serif;
  font-size: 1.1rem;
  opacity: 0;
  transition: opacity 1.8s ease;
  text-shadow: 0 0 12px rgba(255,210,130,0.8);
}
canvas { display: block; }
</style>
</head>
<body>
<div id="subtitle"></div>

<script src="https://cdn.jsdelivr.net/npm/three@0.153.0/build/three.min.js"></script>

<script>
// === SAHNE ===
const scene = new THREE.Scene();
scene.background = new THREE.Color(0x000000);

// === KAMERA ===
const camera = new THREE.PerspectiveCamera(75, innerWidth / innerHeight, 0.1, 1000);
camera.position.set(0, 1, 10);

// === RENDER ===
const renderer = new THREE.WebGLRenderer({ antialias: true });
renderer.setSize(innerWidth, innerHeight);
document.body.appendChild(renderer.domElement);

// === IŞIKLANDIRMA ===
const ambient = new THREE.AmbientLight(0x705840, 0.9);
scene.add(ambient);

const pointLight = new THREE.PointLight(0xffaa55, 2, 12);
pointLight.position.set(0, 2, 8);
scene.add(pointLight);

// === ZEMİN ve DUVARLAR ===
const floorMaterial = new THREE.MeshStandardMaterial({ color: 0x3a2a1a });
const wallMaterial = new THREE.MeshStandardMaterial({ color: 0x241a10 });

for (let z = 0; z < 120; z += 6) {
  const floor = new THREE.Mesh(new THREE.BoxGeometry(10, 0.2, 6), floorMaterial);
  floor.position.set(0, -2, -z);
  scene.add(floor);

  const ceiling = new THREE.Mesh(new THREE.BoxGeometry(10, 0.2, 6), wallMaterial);
  ceiling.position.set(0, 2, -z);
  scene.add(ceiling);

  const left = new THREE.Mesh(new THREE.BoxGeometry(0.2, 4, 6), wallMaterial);
  left.position.set(-5, 0, -z);
  const right = left.clone();
  right.position.x = 5;
  scene.add(left, right);
}

// === ALT YAZILAR ===
const subtitles = [
  "Tahta kokusu ağır... ama tanıdık.",
  "Adımlar yankılanıyor, sanki yalnız değilsin.",
  "Duvarlarda sıcaklık var... ama nefes değil bu.",
  "Bir gölge hareket etti. Gördün mü?",
  "Birazdan bir şey olacak gibi..."
];

const subtitle = document.getElementById("subtitle");
let i = 0;
function nextSubtitle() {
  if (i < subtitles.length) {
    subtitle.textContent = subtitles[i];
    subtitle.style.opacity = 1;
    setTimeout(() => {
      subtitle.style.opacity = 0;
      i++;
      setTimeout(nextSubtitle, 2500);
    }, 4000);
  } else {
    setTimeout(() => {
      window.location.href = "labirent-03.html";
    }, 4000);
  }
}
setTimeout(nextSubtitle, 2000);

// === ANİMASYON ===
function animate() {
  requestAnimationFrame(animate);
  camera.position.z -= 0.04;
  pointLight.position.z = camera.position.z - 1;
  renderer.render(scene, camera);
}
animate();

addEventListener("resize", () => {
  camera.aspect = innerWidth / innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(innerWidth, innerHeight);
});
</script>
</body>
</html>
