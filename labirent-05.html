<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Bilinç Odası – İskelet</title>
<style>
  html, body {margin:0;height:100%;overflow:hidden;background:#000;}
  canvas {display:block;}
</style>
</head>
<body>
<script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>

<script>
// === SAHNE, KAMERA, RENDERER ===
const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(75, innerWidth/innerHeight, 0.1, 1000);
camera.position.set(0,1.6,8);
const renderer = new THREE.WebGLRenderer({antialias:true});
renderer.setSize(innerWidth, innerHeight);
renderer.shadowMap.enabled = true;
document.body.appendChild(renderer.domElement);

// === IŞIK ===
const ambient = new THREE.AmbientLight(0x403020, 0.5);
scene.add(ambient);
const point = new THREE.PointLight(0xffb070, 2, 30);
point.castShadow = true;
point.position.set(0,4,0);
scene.add(point);

// === DOKULAR ===
const loader = new THREE.TextureLoader();
const tex = {
  wood: loader.load("https://cdn.jsdelivr.net/gh/KaizIQ/textures/minecraft/wood_planks_oak.png"),
  stone: loader.load("https://cdn.jsdelivr.net/gh/KaizIQ/textures/minecraft/stone_bricks.png"),
  book: loader.load("https://cdn.jsdelivr.net/gh/KaizIQ/textures/minecraft/bookshelf.png"),
  carpet: loader.load("https://cdn.jsdelivr.net/gh/KaizIQ/textures/minecraft/carpet_red.png")
};
for(let t in tex){ tex[t].wrapS = tex[t].wrapT = THREE.RepeatWrapping; }

// === MALZEMELER ===
const woodMat = new THREE.MeshStandardMaterial({map:tex.wood});
const stoneMat = new THREE.MeshStandardMaterial({map:tex.stone});
const bookMat = new THREE.MeshStandardMaterial({map:tex.book});
const carpetMat = new THREE.MeshStandardMaterial({map:tex.carpet, side:THREE.DoubleSide});

// === YAPILAR ===
const floor = new THREE.Mesh(new THREE.BoxGeometry(20,1,20), stoneMat);
floor.position.y = -2;
floor.receiveShadow = true;
scene.add(floor);

const ceiling = new THREE.Mesh(new THREE.BoxGeometry(20,1,20), woodMat);
ceiling.position.y = 6;
scene.add(ceiling);

const wallPositions = [
  {x:0,y:2,z:-10,geo:[20,8,1]},
  {x:0,y:2,z:10,geo:[20,8,1]},
  {x:-10,y:2,z:0,geo:[1,8,20]},
  {x:10,y:2,z:0,geo:[1,8,20]}
];
wallPositions.forEach(p=>{
  const wall = new THREE.Mesh(new THREE.BoxGeometry(...p.geo), woodMat);
  wall.position.set(p.x,p.y,p.z);
  wall.castShadow=true;wall.receiveShadow=true;
  scene.add(wall);
});

// === KİTAPLIKLAR ===
for(let i=-6;i<=6;i+=6){
  for(let j=-2;j<=2;j+=4){
    const shelf = new THREE.Mesh(new THREE.BoxGeometry(4,4,1), bookMat);
    shelf.position.set(i,0,j-9.5);
    scene.add(shelf);
  }
}

// === HALI ===
const carpet = new THREE.Mesh(new THREE.PlaneGeometry(6,10), carpetMat);
carpet.rotation.x = -Math.PI/2;
carpet.position.y = -1.49;
scene.add(carpet);

// === DENEYSEL MASA ===
const table = new THREE.Mesh(new THREE.BoxGeometry(2,1,2), woodMat);
table.position.set(-3,-1,3);
scene.add(table);

// === KAMERA ANİMASYONU ===
let t = 0;
function animate(){
  requestAnimationFrame(animate);
  t += 0.003;
  camera.position.x = Math.sin(t*1.5)*0.5;
  camera.position.z = 8 - t*3;
  if(camera.position.z < -8) camera.position.z = 8;
  camera.lookAt(0,1.5,0);
  renderer.render(scene,camera);
}
animate();

window.addEventListener("resize", ()=>{
  camera.aspect = innerWidth/innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(innerWidth,innerHeight);
});
</script>
</body>
</html>
