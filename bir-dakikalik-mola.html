<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bir Dakikalık Mola</title>
<style>
html, body {
  margin: 0;
  padding: 0;
  overflow: hidden;
  height: 100%;
  background: linear-gradient(135deg, #f1c6de, #b0e0e6);
  font-family: "Poppins", sans-serif;
}
h1 {
  position: absolute;
  top: 25px;
  width: 100%;
  text-align: center;
  color: #fff;
  font-size: 1.8rem;
  text-shadow: 0 0 10px rgba(255,255,255,0.5);
}
canvas {
  width: 100%;
  height: 100%;
  display: block;
  cursor: grab;
}
</style>
</head>
<body>
  <h1>Bir Dakikalık Mola ☕</h1>
  <canvas id="canvas"></canvas>

<script>
const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');
let width, height;
function resize() {
  width = canvas.width = window.innerWidth;
  height = canvas.height = window.innerHeight;
}
resize();
window.addEventListener('resize', resize);

// Noktalar (grid) oluşturuluyor
const cols = 40, rows = 25;
const spacingX = () => width / (cols - 1);
const spacingY = () => height / (rows - 1);
let points = [];

function initPoints() {
  points = [];
  for (let y = 0; y < rows; y++) {
    for (let x = 0; x < cols; x++) {
      points.push({
        x: x * spacingX(),
        y: y * spacingY(),
        ox: x * spacingX(),
        oy: y * spacingY(),
        vx: 0,
        vy: 0
      });
    }
  }
}
initPoints();

let mouse = { x: 0, y: 0, down: false, prevX: 0, prevY: 0 };

canvas.addEventListener('mousedown', e => { mouse.down = true; });
canvas.addEventListener('mouseup', e => { mouse.down = false; });
canvas.addEventListener('mousemove', e => {
  mouse.prevX = mouse.x;
  mouse.prevY = mouse.y;
  mouse.x = e.clientX;
  mouse.y = e.clientY;
});

canvas.addEventListener('touchmove', e => {
  const t = e.touches[0];
  mouse.x = t.clientX;
  mouse.y = t.clientY;
});

function update() {
  for (let p of points) {
    let dx = mouse.x - p.x;
    let dy = mouse.y - p.y;
    const dist = Math.sqrt(dx * dx + dy * dy);
    if (dist < 120 && mouse.down) {
      const force = (120 - dist) / 120;
      p.vx -= (dx / dist) * force * 8;
      p.vy -= (dy / dist) * force * 8;
    }
    p.vx += (p.ox - p.x) * 0.03;
    p.vy += (p.oy - p.y) * 0.03;
    p.vx *= 0.9;
    p.vy *= 0.9;
    p.x += p.vx;
    p.y += p.vy;
  }
}

function draw() {
  ctx.clearRect(0, 0, width, height);
  const grd = ctx.createLinearGradient(0, 0, width, height);
  grd.addColorStop(0, '#f6d5f7');
  grd.addColorStop(1, '#c2f0fc');
  ctx.fillStyle = grd;
  ctx.fillRect(0, 0, width, height);

  ctx.strokeStyle = 'rgba(255,255,255,0.6)';
  ctx.lineWidth = 1.3;

  // Yüzey çizimi
  for (let y = 0; y < rows - 1; y++) {
    ctx.beginPath();
    for (let x = 0; x < cols; x++) {
      const p = points[y * cols + x];
      ctx.lineTo(p.x, p.y);
    }
    ctx.stroke();
  }

  // Nokta bağlantılarını da çizelim (daha jelimsi)
  ctx.strokeStyle = 'rgba(255,255,255,0.3)';
  for (let x = 0; x < cols - 1; x++) {
    ctx.beginPath();
    for (let y = 0; y < rows; y++) {
      const p = points[y * cols + x];
      ctx.lineTo(p.x, p.y);
    }
    ctx.stroke();
  }
}

function loop() {
  update();
  draw();
  requestAnimationFrame(loop);
}
loop();
</script>
</body>
</html>
