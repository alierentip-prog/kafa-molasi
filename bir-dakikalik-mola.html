<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bir Dakikal覺k Mola | Ger癟ek Zamanl覺 EKG</title>
<style>
body {
  margin: 0;
  background: radial-gradient(circle at center, #000000 60%, #010a00 100%);
  font-family: "Poppins", sans-serif;
  overflow: hidden;
  color: #00ff99;
}

/* Bal覺k */
h1 {
  text-align: center;
  margin-top: 18px;
  color: #00ff99;
  font-weight: 600;
  text-shadow: 0 0 10px #00ff99;
}

/* EKG 覺zgaras覺 */
.grid {
  position: absolute;
  top: 60px;
  left: 0;
  width: 100%;
  height: 75%;
  background-image: linear-gradient(rgba(0,255,80,0.1) 1px, transparent 1px),
                    linear-gradient(90deg, rgba(0,255,80,0.1) 1px, transparent 1px);
  background-size: 30px 20px;
  z-index: 1;
}

/* EKG 癟izim alan覺 */
canvas {
  position: absolute;
  top: 60px;
  left: 0;
  z-index: 2;
}

/* Nefes dairesi */
#breath {
  position: absolute;
  top: 48%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 120px;
  height: 120px;
  border-radius: 50%;
  border: 3px solid #00ff99;
  box-shadow: 0 0 15px #00ff99;
  opacity: 0.6;
  animation: breathe 6s ease-in-out infinite;
  z-index: 3;
}

@keyframes breathe {
  0%, 100% { transform: translate(-50%, -50%) scale(0.9); opacity: 0.6; }
  50% { transform: translate(-50%, -50%) scale(1.3); opacity: 0.8; }
}

/* Alt yaz覺 */
footer {
  position: absolute;
  bottom: 15px;
  width: 100%;
  text-align: center;
  font-size: 1rem;
  color: #00ffaa;
  text-shadow: 0 0 10px #00ff99;
}
</style>
</head>
<body>
  <h1> Ger癟ek Zamanl覺 Kalp Ritim Ekran覺</h1>
  <div class="grid"></div>
  <canvas id="ekg"></canvas>
  <div id="breath"></div>
  <footer>Bir dakikal覺k molan devam ediyor...</footer>

<script>
const canvas = document.getElementById('ekg');
const ctx = canvas.getContext('2d');
let width, height;
let t = 0;

function resize() {
  width = window.innerWidth;
  height = window.innerHeight * 0.75;
  canvas.width = width;
  canvas.height = height;
}
resize();
window.addEventListener('resize', resize);

const leads = [
  "I","II","III","aVR","aVL","aVF","V1","V2","V3","V4","V5","V6"
];
const spacing = height / (leads.length + 1);
const colors = ["#00ff99","#00ff80","#00ffaa","#00ff99","#00ffb3","#00ff80",
                "#00ffaa","#00ff99","#00ff80","#00ffb3","#00ffaa","#00ff99"];

function drawECG() {
  ctx.clearRect(0, 0, width, height);
  t += 0.03;

  for (let i = 0; i < leads.length; i++) {
    const yBase = (i + 1) * spacing;
    ctx.beginPath();
    ctx.moveTo(0, yBase);
    for (let x = 0; x < width; x++) {
      const signal = Math.sin(x * 0.03 + t + i * 0.5) * 8 + // dalga
                     (Math.random() - 0.5) * 1.5 +          // rastgele g羹r羹lt羹
                     ekgPulse(x, t + i);                     // QRS kompleksi
      ctx.lineTo(x, yBase - signal);
    }
    ctx.strokeStyle = colors[i];
    ctx.lineWidth = 1.3;
    ctx.shadowBlur = 8;
    ctx.shadowColor = colors[i];
    ctx.stroke();

    // Lead etiketi
    ctx.font = "14px Poppins";
    ctx.fillStyle = "#00ffaa";
    ctx.fillText(leads[i], 10, yBase - 25);
  }

  requestAnimationFrame(drawECG);
}

function ekgPulse(x, time) {
  const phase = (x / width + time * 0.15) % 1;
  if (phase < 0.02) return -20; // Q
  if (phase < 0.04) return 35;  // R
  if (phase < 0.07) return -15; // S
  if (phase < 0.1) return 5;    // T
  return 0;
}

drawECG();
</script>
</body>
</html>
